{"id":"Focm","dependencies":[{"name":"/Users/Brad/Workspace/Demo Projects/Reddit Search App/package.json","includedInParent":true,"mtime":1536984727595},{"name":"./redditapi","loc":{"line":1,"column":19},"parent":"/Users/Brad/Workspace/Demo Projects/Reddit Search App/index.js","resolved":"/Users/Brad/Workspace/Demo Projects/Reddit Search App/redditapi.js"}],"generated":{"js":"\"use strict\";var e=require(\"./redditapi\"),t=a(e);function a(e){return e&&e.__esModule?e:{default:e}}var n=document.getElementById(\"search-form\"),r=document.getElementById(\"search-input\");function d(e,t){var a=document.createElement(\"div\");a.className=\"alert \"+t,a.appendChild(document.createTextNode(e));var n=document.getElementById(\"search-container\"),r=document.getElementById(\"search\");n.insertBefore(a,r),setTimeout(function(){return document.querySelector(\".alert\").remove()},2500)}function c(e,t){var a=e.indexOf(\" \",t);return-1==a?e:e.substring(0,a)}n.addEventListener(\"submit\",function(e){var a=r.value,n=document.querySelector('input[name = \"sortby\"]:checked').value,s=document.getElementById(\"limit\").value;\"\"==a&&d(\"Please add a search term\",\"alert-danger\"),r.value=\"\",t.default.search(a,s,n).then(function(e){var t='<div class=\"card-columns\">';e.forEach(function(e){var a=e.preview?e.preview.images[0].source.url:\"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";t+='\\n    <div class=\"card\">\\n  <img class=\"card-img-top\" src=\"'+a+'\" alt=\"Card image cap\">\\n  <div class=\"card-body\">\\n    <h5 class=\"card-title\">'+e.title+'</h5>\\n    <p class=\"card-text\">'+c(e.selftext,100)+'</p>\\n    <a href=\"'+e.url+'\" target=\"_blank\" class=\"btn btn-primary\">Read More</a>\\n    <hr>\\n    <span class=\"badge badge-secondary\">Subreddit: '+e.subreddit+'</span>\\n    <span class=\"badge badge-dark\">Score: '+e.score+\"</span>\\n  </div>\\n</div>\\n    \"}),t+=\"</div>\",document.getElementById(\"results\").innerHTML=t}),e.preventDefault()});","map":{"mappings":[{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":27}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":42}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":44}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":46}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":49}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":58}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":60}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":63}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":70}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":73}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":75}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":86}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":88}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":89}},{"source":"index.js","original":{"line":74,"column":1},"generated":{"line":1,"column":97}},{"source":"index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"index.js","name":"searchForm","original":{"line":2,"column":6},"generated":{"line":1,"column":104}},{"source":"index.js","name":"document","original":{"line":2,"column":19},"generated":{"line":1,"column":106}},{"source":"index.js","name":"getElementById","original":{"line":2,"column":28},"generated":{"line":1,"column":115}},{"source":"index.js","original":{"line":2,"column":43},"generated":{"line":1,"column":130}},{"source":"index.js","name":"searchInput","original":{"line":3,"column":6},"generated":{"line":1,"column":145}},{"source":"index.js","name":"document","original":{"line":3,"column":20},"generated":{"line":1,"column":147}},{"source":"index.js","name":"getElementById","original":{"line":3,"column":29},"generated":{"line":1,"column":156}},{"source":"index.js","original":{"line":3,"column":44},"generated":{"line":1,"column":171}},{"source":"index.js","original":{"line":52,"column":0},"generated":{"line":1,"column":187}},{"source":"index.js","name":"showMessage","original":{"line":52,"column":9},"generated":{"line":1,"column":196}},{"source":"index.js","name":"message","original":{"line":52,"column":21},"generated":{"line":1,"column":198}},{"source":"index.js","name":"className","original":{"line":52,"column":30},"generated":{"line":1,"column":200}},{"source":"index.js","name":"div","original":{"line":54,"column":8},"generated":{"line":1,"column":203}},{"source":"index.js","name":"div","original":{"line":54,"column":8},"generated":{"line":1,"column":207}},{"source":"index.js","name":"document","original":{"line":54,"column":14},"generated":{"line":1,"column":209}},{"source":"index.js","name":"createElement","original":{"line":54,"column":23},"generated":{"line":1,"column":218}},{"source":"index.js","original":{"line":54,"column":37},"generated":{"line":1,"column":232}},{"source":"index.js","name":"className","original":{"line":56,"column":6},"generated":{"line":1,"column":239}},{"source":"index.js","name":"className","original":{"line":56,"column":6},"generated":{"line":1,"column":241}},{"source":"index.js","name":"className","original":{"line":56,"column":27},"generated":{"line":1,"column":251}},{"source":"index.js","name":"className","original":{"line":56,"column":27},"generated":{"line":1,"column":260}},{"source":"index.js","name":"appendChild","original":{"line":58,"column":6},"generated":{"line":1,"column":262}},{"source":"index.js","name":"appendChild","original":{"line":58,"column":6},"generated":{"line":1,"column":264}},{"source":"index.js","name":"document","original":{"line":58,"column":18},"generated":{"line":1,"column":276}},{"source":"index.js","name":"createTextNode","original":{"line":58,"column":27},"generated":{"line":1,"column":285}},{"source":"index.js","name":"message","original":{"line":58,"column":42},"generated":{"line":1,"column":300}},{"source":"index.js","name":"searchContainer","original":{"line":60,"column":8},"generated":{"line":1,"column":304}},{"source":"index.js","name":"searchContainer","original":{"line":60,"column":8},"generated":{"line":1,"column":308}},{"source":"index.js","name":"document","original":{"line":60,"column":26},"generated":{"line":1,"column":310}},{"source":"index.js","name":"getElementById","original":{"line":60,"column":35},"generated":{"line":1,"column":319}},{"source":"index.js","original":{"line":60,"column":50},"generated":{"line":1,"column":334}},{"source":"index.js","name":"search","original":{"line":62,"column":8},"generated":{"line":1,"column":354}},{"source":"index.js","name":"document","original":{"line":62,"column":17},"generated":{"line":1,"column":356}},{"source":"index.js","name":"getElementById","original":{"line":62,"column":26},"generated":{"line":1,"column":365}},{"source":"index.js","original":{"line":62,"column":41},"generated":{"line":1,"column":380}},{"source":"index.js","name":"insertBefore","original":{"line":64,"column":18},"generated":{"line":1,"column":390}},{"source":"index.js","name":"insertBefore","original":{"line":64,"column":18},"generated":{"line":1,"column":392}},{"source":"index.js","name":"div","original":{"line":64,"column":31},"generated":{"line":1,"column":405}},{"source":"index.js","name":"search","original":{"line":64,"column":36},"generated":{"line":1,"column":407}},{"source":"index.js","original":{"line":66,"column":13},"generated":{"line":1,"column":410}},{"source":"index.js","original":{"line":66,"column":13},"generated":{"line":1,"column":421}},{"source":"index.js","name":"document","original":{"line":66,"column":19},"generated":{"line":1,"column":432}},{"source":"index.js","name":"document","original":{"line":66,"column":19},"generated":{"line":1,"column":439}},{"source":"index.js","name":"querySelector","original":{"line":66,"column":28},"generated":{"line":1,"column":448}},{"source":"index.js","original":{"line":66,"column":42},"generated":{"line":1,"column":462}},{"source":"index.js","name":"remove","original":{"line":66,"column":52},"generated":{"line":1,"column":472}},{"source":"index.js","original":{"line":66,"column":62},"generated":{"line":1,"column":482}},{"source":"index.js","original":{"line":70,"column":0},"generated":{"line":1,"column":488}},{"source":"index.js","name":"truncateText","original":{"line":70,"column":9},"generated":{"line":1,"column":497}},{"source":"index.js","name":"text","original":{"line":70,"column":22},"generated":{"line":1,"column":499}},{"source":"index.js","name":"limit","original":{"line":70,"column":28},"generated":{"line":1,"column":501}},{"source":"index.js","name":"shortened","original":{"line":71,"column":8},"generated":{"line":1,"column":504}},{"source":"index.js","name":"shortened","original":{"line":71,"column":8},"generated":{"line":1,"column":508}},{"source":"index.js","name":"text","original":{"line":71,"column":20},"generated":{"line":1,"column":510}},{"source":"index.js","name":"indexOf","original":{"line":71,"column":25},"generated":{"line":1,"column":512}},{"source":"index.js","original":{"line":71,"column":33},"generated":{"line":1,"column":520}},{"source":"index.js","name":"limit","original":{"line":71,"column":38},"generated":{"line":1,"column":524}},{"source":"index.js","name":"shortened","original":{"line":72,"column":6},"generated":{"line":1,"column":527}},{"source":"index.js","original":{"line":72,"column":20},"generated":{"line":1,"column":534}},{"source":"index.js","name":"shortened","original":{"line":72,"column":6},"generated":{"line":1,"column":537}},{"source":"index.js","name":"text","original":{"line":72,"column":30},"generated":{"line":1,"column":539}},{"source":"index.js","name":"text","original":{"line":73,"column":9},"generated":{"line":1,"column":541}},{"source":"index.js","name":"substring","original":{"line":73,"column":14},"generated":{"line":1,"column":543}},{"source":"index.js","original":{"line":73,"column":24},"generated":{"line":1,"column":553}},{"source":"index.js","name":"shortened","original":{"line":73,"column":27},"generated":{"line":1,"column":555}},{"source":"index.js","name":"searchForm","original":{"line":6,"column":0},"generated":{"line":1,"column":558}},{"source":"index.js","name":"addEventListener","original":{"line":6,"column":11},"generated":{"line":1,"column":560}},{"source":"index.js","original":{"line":6,"column":28},"generated":{"line":1,"column":577}},{"source":"index.js","original":{"line":6,"column":38},"generated":{"line":1,"column":586}},{"source":"index.js","original":{"line":6,"column":43},"generated":{"line":1,"column":595}},{"source":"index.js","name":"searchTerm","original":{"line":8,"column":8},"generated":{"line":1,"column":598}},{"source":"index.js","name":"searchTerm","original":{"line":8,"column":8},"generated":{"line":1,"column":602}},{"source":"index.js","name":"searchInput","original":{"line":8,"column":21},"generated":{"line":1,"column":604}},{"source":"index.js","name":"value","original":{"line":8,"column":33},"generated":{"line":1,"column":606}},{"source":"index.js","name":"sortBy","original":{"line":10,"column":8},"generated":{"line":1,"column":612}},{"source":"index.js","name":"document","original":{"line":10,"column":17},"generated":{"line":1,"column":614}},{"source":"index.js","name":"querySelector","original":{"line":10,"column":26},"generated":{"line":1,"column":623}},{"source":"index.js","original":{"line":10,"column":40},"generated":{"line":1,"column":637}},{"source":"index.js","name":"value","original":{"line":10,"column":74},"generated":{"line":1,"column":671}},{"source":"index.js","name":"searchLimit","original":{"line":12,"column":8},"generated":{"line":1,"column":677}},{"source":"index.js","name":"document","original":{"line":12,"column":22},"generated":{"line":1,"column":679}},{"source":"index.js","name":"getElementById","original":{"line":12,"column":31},"generated":{"line":1,"column":688}},{"source":"index.js","original":{"line":12,"column":46},"generated":{"line":1,"column":703}},{"source":"index.js","name":"value","original":{"line":12,"column":55},"generated":{"line":1,"column":712}},{"source":"index.js","original":{"line":14,"column":20},"generated":{"line":1,"column":718}},{"source":"index.js","name":"searchTerm","original":{"line":14,"column":6},"generated":{"line":1,"column":722}},{"source":"index.js","original":{"line":16,"column":16},"generated":{"line":1,"column":725}},{"source":"index.js","original":{"line":16,"column":16},"generated":{"line":1,"column":727}},{"source":"index.js","original":{"line":16,"column":44},"generated":{"line":1,"column":754}},{"source":"index.js","name":"value","original":{"line":20,"column":14},"generated":{"line":1,"column":770}},{"source":"index.js","name":"value","original":{"line":20,"column":14},"generated":{"line":1,"column":772}},{"source":"index.js","original":{"line":20,"column":22},"generated":{"line":1,"column":778}},{"source":"index.js","name":"search","original":{"line":23,"column":9},"generated":{"line":1,"column":781}},{"source":"index.js","name":"search","original":{"line":23,"column":9},"generated":{"line":1,"column":783}},{"source":"index.js","name":"search","original":{"line":23,"column":9},"generated":{"line":1,"column":791}},{"source":"index.js","name":"searchTerm","original":{"line":23,"column":16},"generated":{"line":1,"column":798}},{"source":"index.js","name":"searchLimit","original":{"line":23,"column":28},"generated":{"line":1,"column":800}},{"source":"index.js","name":"sortBy","original":{"line":23,"column":41},"generated":{"line":1,"column":802}},{"source":"index.js","name":"then","original":{"line":23,"column":49},"generated":{"line":1,"column":805}},{"source":"index.js","original":{"line":23,"column":54},"generated":{"line":1,"column":810}},{"source":"index.js","original":{"line":23,"column":65},"generated":{"line":1,"column":819}},{"source":"index.js","name":"output","original":{"line":24,"column":8},"generated":{"line":1,"column":822}},{"source":"index.js","name":"output","original":{"line":24,"column":8},"generated":{"line":1,"column":826}},{"source":"index.js","original":{"line":24,"column":17},"generated":{"line":1,"column":828}},{"source":"index.js","name":"forEach","original":{"line":26,"column":12},"generated":{"line":1,"column":857}},{"source":"index.js","name":"forEach","original":{"line":26,"column":12},"generated":{"line":1,"column":859}},{"source":"index.js","original":{"line":26,"column":20},"generated":{"line":1,"column":867}},{"source":"index.js","original":{"line":26,"column":28},"generated":{"line":1,"column":876}},{"source":"index.js","name":"image","original":{"line":28,"column":12},"generated":{"line":1,"column":879}},{"source":"index.js","name":"image","original":{"line":28,"column":12},"generated":{"line":1,"column":883}},{"source":"index.js","name":"post","original":{"line":28,"column":20},"generated":{"line":1,"column":885}},{"source":"index.js","name":"preview","original":{"line":28,"column":25},"generated":{"line":1,"column":887}},{"source":"index.js","name":"post","original":{"line":29,"column":10},"generated":{"line":1,"column":895}},{"source":"index.js","name":"preview","original":{"line":29,"column":15},"generated":{"line":1,"column":897}},{"source":"index.js","name":"images","original":{"line":29,"column":23},"generated":{"line":1,"column":905}},{"source":"index.js","original":{"line":29,"column":30},"generated":{"line":1,"column":912}},{"source":"index.js","name":"source","original":{"line":29,"column":33},"generated":{"line":1,"column":915}},{"source":"index.js","name":"url","original":{"line":29,"column":40},"generated":{"line":1,"column":922}},{"source":"index.js","original":{"line":30,"column":10},"generated":{"line":1,"column":926}},{"source":"index.js","name":"image","original":{"line":33,"column":35},"generated":{"line":1,"column":996}},{"source":"index.js","name":"image","original":{"line":33,"column":35},"generated":{"line":1,"column":999}},{"source":"index.js","name":"image","original":{"line":33,"column":35},"generated":{"line":1,"column":1061}},{"source":"index.js","name":"post","original":{"line":35,"column":29},"generated":{"line":1,"column":1063}},{"source":"index.js","name":"post","original":{"line":35,"column":29},"generated":{"line":1,"column":1145}},{"source":"index.js","name":"title","original":{"line":35,"column":34},"generated":{"line":1,"column":1147}},{"source":"index.js","name":"truncateText","original":{"line":36,"column":27},"generated":{"line":1,"column":1153}},{"source":"index.js","name":"truncateText","original":{"line":36,"column":27},"generated":{"line":1,"column":1188}},{"source":"index.js","name":"post","original":{"line":36,"column":40},"generated":{"line":1,"column":1190}},{"source":"index.js","name":"selftext","original":{"line":36,"column":45},"generated":{"line":1,"column":1192}},{"source":"index.js","original":{"line":36,"column":55},"generated":{"line":1,"column":1201}},{"source":"index.js","name":"post","original":{"line":37,"column":15},"generated":{"line":1,"column":1206}},{"source":"index.js","name":"post","original":{"line":37,"column":15},"generated":{"line":1,"column":1228}},{"source":"index.js","name":"url","original":{"line":37,"column":20},"generated":{"line":1,"column":1230}},{"source":"index.js","name":"post","original":{"line":39,"column":53},"generated":{"line":1,"column":1234}},{"source":"index.js","name":"post","original":{"line":39,"column":53},"generated":{"line":1,"column":1355}},{"source":"index.js","name":"subreddit","original":{"line":39,"column":58},"generated":{"line":1,"column":1357}},{"source":"index.js","name":"post","original":{"line":40,"column":44},"generated":{"line":1,"column":1367}},{"source":"index.js","name":"post","original":{"line":40,"column":44},"generated":{"line":1,"column":1421}},{"source":"index.js","name":"score","original":{"line":40,"column":49},"generated":{"line":1,"column":1423}},{"source":"index.js","original":{"line":31,"column":6},"generated":{"line":1,"column":1429}},{"source":"index.js","original":{"line":45,"column":14},"generated":{"line":1,"column":1465}},{"source":"index.js","original":{"line":45,"column":14},"generated":{"line":1,"column":1468}},{"source":"index.js","name":"getElementById","original":{"line":46,"column":13},"generated":{"line":1,"column":1477}},{"source":"index.js","name":"getElementById","original":{"line":46,"column":13},"generated":{"line":1,"column":1486}},{"source":"index.js","original":{"line":46,"column":28},"generated":{"line":1,"column":1501}},{"source":"index.js","name":"innerHTML","original":{"line":46,"column":39},"generated":{"line":1,"column":1512}},{"source":"index.js","name":"output","original":{"line":46,"column":51},"generated":{"line":1,"column":1522}},{"source":"index.js","name":"preventDefault","original":{"line":49,"column":4},"generated":{"line":1,"column":1526}},{"source":"index.js","name":"preventDefault","original":{"line":49,"column":4},"generated":{"line":1,"column":1528}}],"sources":{"index.js":"import reddit from \"./redditapi\";\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\n\n//Form event listener\nsearchForm.addEventListener(\"submit\", e => {\n  //Get search term\n  const searchTerm = searchInput.value;\n  //Get sort\n  const sortBy = document.querySelector('input[name = \"sortby\"]:checked').value;\n  //Get limit\n  const searchLimit = document.getElementById(\"limit\").value;\n  //Check input\n  if (searchTerm == \"\") {\n    //Show alert message\n    showMessage(\"Please add a search term\", \"alert-danger\");\n  }\n\n  //Clear search input bar\n  searchInput.value = \"\";\n\n  //Search Reddit\n  reddit.search(searchTerm, searchLimit, sortBy).then(results => {\n    let output = '<div class=\"card-columns\">';\n    //Loop through posts\n    results.forEach(post => {\n      //Check post for image\n      const image = post.preview\n        ? post.preview.images[0].source.url\n        : \"https://cdn.comparitech.com/wp-content/uploads/2017/08/reddit-1.jpg\";\n      output += `\n    <div class=\"card\">\n  <img class=\"card-img-top\" src=\"${image}\" alt=\"Card image cap\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">${post.title}</h5>\n    <p class=\"card-text\">${truncateText(post.selftext, 100)}</p>\n    <a href=\"${post.url}\" target=\"_blank\" class=\"btn btn-primary\">Read More</a>\n    <hr>\n    <span class=\"badge badge-secondary\">Subreddit: ${post.subreddit}</span>\n    <span class=\"badge badge-dark\">Score: ${post.score}</span>\n  </div>\n</div>\n    `;\n    });\n    output += \"</div>\";\n    document.getElementById(\"results\").innerHTML = output;\n  });\n\n  e.preventDefault();\n});\n\nfunction showMessage(message, className) {\n  //Create div\n  const div = document.createElement(\"div\");\n  //Add classes\n  div.className = `alert ${className}`;\n  //Add text\n  div.appendChild(document.createTextNode(message));\n  //Get parent container\n  const searchContainer = document.getElementById(\"search-container\");\n  //Get search\n  const search = document.getElementById(\"search\");\n  //Insert message\n  searchContainer.insertBefore(div, search);\n  //Timeout alert\n  setTimeout(() => document.querySelector(\".alert\").remove(), 2500);\n}\n\n//Truncate text\nfunction truncateText(text, limit) {\n  const shortened = text.indexOf(\" \", limit);\n  if (shortened == -1) return text;\n  return text.substring(0, shortened);\n}\n"},"lineCount":null}},"hash":"103261e0039f52fa20976745662947eb","cacheData":{"env":{}}}